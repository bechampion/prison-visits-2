<div class="visitor-labels">
  <div class="grid-row">
    <% @booking_response.visitors.each_with_index do |visitor, index| %>
      <div class="column-one-half">
        <hr>
        <h3 class="bold-small"><%= t('visitor_no', n: index + 1, scope: :shared) %></h3>
        <dl>
          <dt>Name</dt>
          <dd><%= visitor.first_name %> <%= visitor.last_name %></dd>
        </dl>
        <dl>
          <dt><%= t('.date_of_birth') %></dt>
          <dd><%= visitor.date_of_birth.to_s(:short_nomis) %> (<%= visitor.age %>)</dd>
        </dl>
        <% if index.zero? %>
          <dl>
            <dt><%= t('.email_address') %></dt>
            <dd><%= @booking_response.contact_email_address %></dd>
          </dl>
          <dl>
            <dt><%= t('.phone_no') %></dt>
            <dd><%= @booking_response.contact_phone_no %></dd>
          </dl>
        <% end %>
        <div class="push-top">
          <label class="block-label">
            <%=
              check_box_tag(
                'booking_response[unlisted_visitor_ids][]',
                visitor.id,
                f.object.unlisted_visitor_ids.include?(visitor.id),
                data: { checkbox_summary_text: visitor.anonymized_name }
              )
            %>
            <%= t('.visitor_not_on_list_label') %>
          </label>
          <label class="block-label">
            <%=
              check_box_tag(
                'booking_response[banned_visitor_ids][]',
                visitor.id,
                f.object.banned_visitor_ids.include?(visitor.id),
                data: { checkbox_summary_text: visitor.anonymized_name }
              )
            %>
            <%= t('.visitor_banned_label') %>
          </label>
        </div>
      </div>
    <% end %>
  </div>
</div>
